<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<div th:fragment="search(url)" style="display: flex; flex-direction: row-reverse;">
  <form id="search" class="search-box" method="get" th:action="@{/automessage/{url}(url=${url})}" style="display: flex">
    <div class="dropdown">
      <button class="dropbtn" type="button" onclick="toggleDropdown()">
                <span id="selectedCategory" class="dropbtn_content"
                      th:text="${#strings.equals(param.category, 'all') ? '전체 보기' :
                               #strings.equals(param.category, 'null') ? '미등록 번호' :
                               #strings.equals(param.category, 'notnull') ? '등록 번호' : '전체 보기'}">전체 보기</span>
      </button>
      <div id="dropdownMenu" class="dropdown-content">
        <div onclick="selectCategory('전체 보기', 'all')">전체 보기</div>
        <div onclick="selectCategory('미등록 번호', 'null')">미등록 번호</div>
        <div onclick="selectCategory('등록 번호', 'notnull')">등록 번호</div>
      </div>
    </div>
    <input type="hidden" name="category" id="category" th:value="${param.category ?: 'all'}">
    <input class="search-input" type="text" name="query" placeholder="검색" th:value="${param.query}">
  </form>
</div>
